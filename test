-- Wrap peripherals
local colony_integrator = peripheral.wrap("top")
if not colony_integrator then error("No Colony Integrator found on top!") end

local me_bridge = peripheral.wrap("bottom")
if not me_bridge then error("No ME Bridge found on bottom!") end

local chest = peripheral.find("minecraft:chest") or peripheral.find("minecraft:barrel")
if not chest then error("No chest or barrel detected!") end

-- Push items from AE2 to the chest
local function pushToChest(itemName, count)
    local sides = {"top","bottom","left","right","front","back"}
    for _, side in ipairs(sides) do
        local ok, result = pcall(function()
            return me_bridge.exportItem({name=itemName, count=count}, side)
        end)
        if ok and type(result) == "number" and result > 0 then
            print("Exported " .. result .. " x " .. itemName .. " to side " .. side)
            return result
        end
    end
    print("Failed to export " .. itemName)
    return 0
end

-- Example: Push 10 cobblestone into the chest
pushToChest("minecraft:cobblestone", 10)
