local colony = peripheral.wrap("top")
local function log(msg) print(os.date("%H:%M:%S").." | "..msg) end

local function safeGetBuildings()
  local ok,res = pcall(function() return colony.getBuildings() end)
  return ok and res or {}
end

while true do
  local blds = safeGetBuildings()
  log("Buildings: "..#blds)
  for _,b in ipairs(blds) do
    if b.type == "builder" then
      log("Builder: "..b.name.." lvl="..b.level.." @ ("..b.location.x..","..b.location.y..","..b.location.z..")")
      log("  isWorkingOn="..tostring(b.isWorkingOn).." priority="..tostring(b.priority))
    end
  end
  sleep(10)
end
